
  <!DOCTYPE html>
<!-- Based on an example from https://maptimeboston.github.io/leaflet-intro/ and a tutorial at http://leafletjs.com/examples.html  and  http://www.d3noob.org/2014/02/adding-multiple-markers-to-leafletjs-map.html-->
{% load leaflet_tags %}
{% load geojson_tags %}
<html>
<head>
{% leaflet_js %}
{% leaflet_css %}
    <title>Find Your Nice Things</title>
    
    <meta charset="utf-8" />
    <script src='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />

<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>

    <div id="map" ></div>


<script>

// as noted in views, we are hard coding this until we figure out javascript data structures
  var lat0 = {{ lat0 }};
  var lon0 = {{ lon0 }};
  var lat1 = {{ lat1 }};
  var lon1 = {{ lon1 }};
  //var lat2 = {{ lat2 }};
  //var lon2 = {{ lon2 }};
  //var lat3 = {{ lat3 }};
  //var lon3 = {{ lon3 }};
  //var lat4 = {{ lat4 }};
  //var lon4 = {{ lon4 }};

// get access to the underlying images and mapping data
L.mapbox.accessToken = 'pk.eyJ1IjoidHlsZXJhdWNoaWMiLCJhIjoiY2plM2w3dHl4MmR1azJxcDkyaGdrZmYxNiJ9.NcAoPbMiSoUeWiIzuYh9tg';

// Replace 'mapbox.streets' with your map id.
var mapboxTiles = L.tileLayer('https://api.mapbox.com/v4/mapbox.streets/{z}/{x}/{y}.png?access_token=' + L.mapbox.accessToken, {
    attribution: '© <a href="https://www.mapbox.com/feedback/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
});

// put down the land cover, colours, etc.
var map = L.map('map')
    .addLayer(mapboxTiles)
    .setView([lat0, lon0], 13); // the focal point of the map
    
// create an array of our values we want to plot
 var results = [
  ["{{ content0 | safe }}",lat0, lon0],
  ["{{ content1 | safe }}",lat1, lon1],
  //["{{ content2 | safe}}",lat2, lon2],
  //["{{ content3 | safe }}",lat3, lon3],
  //["{{ content4 | safe}}",lat4, lon4]
  ];
    
// add points to the map
  for (var i = 0; i < results.length; i++) {
   marker = new L.marker([results[i][1],results[i][2]])
    .bindPopup(results[i][0])
    .addTo(map);
  }

    </script>
</body>
</html>
